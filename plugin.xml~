<?xml version="1.0" encoding="utf-8"?>
<plugin xmlns="http://www.phonegap.com/ns/plugins/1.0"
        id="com.commontime.cordova.provisioning"
        version="0.0.7">

	<name>Provisioning Plugin</name>
	
	<engines>
		<engine name="cordova" version=">=4.1.1"/>
	</engines>

	<js-module src="www/provisioning.js" name="Provisioning">
		<clobbers target="plugins.provisioning" />
	</js-module>

	<platform name="android">		
			
		<framework src="gradle/build-extras.gradle" custom="true" type="gradleReference" />
		
		<framework src="commons-codec:commons-codec:1.9" />	
		<framework src="commons-io:commons-io:2.4" />	
		<framework src="com.mcxiaoke.volley:library:1.0.19" />
		<framework src="com.github.zafarkhaja:java-semver:0.9.0" />
		<framework src="com.android.support:support-v4:23.1.0" />
	
		<config-file target="AndroidManifest.xml" parent="/manifest">
			<uses-permission android:name="android.permission.INTERNET" />
			<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
			<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
			<uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED" />
		</config-file>
		<config-file target="AndroidManifest.xml" parent="/manifest/application">
			<receiver android:name="com.commontime.cordova.plugins.provisioning.ScheduleReceiver">
				<intent-filter>
					<action android:name="android.intent.action.BOOT_COMPLETED" />
				</intent-filter>
			</receiver>
			<service
            android:name="com.commontime.cordova.plugins.provisioning.DownloadService"
            android:exported="false" />
		</config-file>
	
		<config-file target="res/xml/config.xml" parent="/*">
			<feature name="Provisioning">
				<param name="onload" value="true" />
				<param name="android-package" value="com.commontime.cordova.plugins.provisioning.Provisioning"/>
			</feature>
		</config-file>		
		
		<source-file src="src/android/com/commontime/cordova/plugins/provisioning/AppVersion.java" target-dir="src/com/commontime/cordova/plugins/provisioning/"/>
		<source-file src="src/android/com/commontime/cordova/plugins/provisioning/Download.java" target-dir="src/com/commontime/cordova/plugins/provisioning/"/>
		<source-file src="src/android/com/commontime/cordova/plugins/provisioning/DownloadService.java" target-dir="src/com/commontime/cordova/plugins/provisioning/"/>
		<source-file src="src/android/com/commontime/cordova/plugins/provisioning/DownloadState.java" target-dir="src/com/commontime/cordova/plugins/provisioning/"/>
		<source-file src="src/android/com/commontime/cordova/plugins/provisioning/Provisioner.java" target-dir="src/com/commontime/cordova/plugins/provisioning/"/>
		<source-file src="src/android/com/commontime/cordova/plugins/provisioning/Provisioning.java" target-dir="src/com/commontime/cordova/plugins/provisioning/"/>
		<source-file src="src/android/com/commontime/cordova/plugins/provisioning/ScheduleReceiver.java" target-dir="src/com/commontime/cordova/plugins/provisioning/"/>
		<source-file src="src/android/com/commontime/cordova/plugins/provisioning/TaskObserver.java" target-dir="src/com/commontime/cordova/plugins/provisioning/"/>
		<source-file src="src/android/com/commontime/cordova/plugins/provisioning/ZipUtility.java" target-dir="src/com/commontime/cordova/plugins/provisioning/"/>
		
	</platform>
  
</plugin>
